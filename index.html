<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Registration Form</title>
        <style>
            header{
                display: grid;
                grid-template-columns: 1fr 2fr 1fr;
                grid-template-rows: .5fr 1fr;
                
            }
           
            #logo{
                max-width: 200px;
                max-height: 100px;
            }
           
            h1{
                grid-row: 2;
                grid-column: 2;
                max-width: 500px;
                text-align: center;    
            }
            main{
                display: grid;
                grid-template-columns: 1fr 2fr 1fr;

            }
            form{
                display: grid;                
            }
            
            h2, form{
                grid-column: 2;
            }
            h2{grid-column:1;}

            h3{
                font-size: medium;
                grid-column:1;
            }
            label{
                grid-column: 1;
            }
            form>*{
                max-width: 300px;
            }
            input, select, textarea{
                 margin-bottom: 10px; 
                 grid-column:2;  
            }
            input, select{
                
            }

            #btns{
                grid-column: 2;
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
            }
            #submit-btn{
                grid-column: 2;
                max-width: 100px;
                margin-top: 50px;
                background-color: rgb(73, 124, 201);
            }

            #submit-btn:hover{
                background-color:rgb(122, 167, 236);
            }
            label{
                max-width: 200px;
                padding-bottom: 5px;
            }

        </style>

    </head>

    <body>
        <header>
            <nav>
                <img id='logo' src='America-SCORES-Logo.jpg'/>
            </nav>
            <h1>America SCORES Student Registration Form</h1>
        </header>
        <main>
           
            <form id="student-registration">
                <h2 id='outside-form'>Student Details</h2>
                <label for='first-name' id="fName-label">First Name:</label>
                <input type="text" name="first-name" id='first-name' title="First Name">

                <label for='middle-name' id="mName-label">Middle Name:</label>
                <input type="text" name="middle-name" id='middle-name' title="Middle Name">

                <label for='last-name' id="lName-label">Last Name:</label>
                <input type="text" name="last-name" id='last-name' title="Last Name">

                <label for='school' id="school-label">School Name:</label>
               <!-- <input list="schools-list">
                    <datalist id="schools-list">
                        <option value="School 1">School 1</option>
                        <option value="School 2">School 2</option>
                        <option value="School 3">School 3</option>
                        <option value="School 4">School 4</option>
                    </datalist>
               -->
                <select id='school'>
                    <option>--Choose School--</option>
                    <optgroup label="List of Schools">
                        <option value="School 1">School 1</option>
                        <option value="School 2">School 2</option>
                        <option value="School 3">School 3</option>
                        <option value="School 4">School 4</option>
                    </optgroup>
                </select>
                
                <label for='personal-email' id="pEmail-label">Personal Email:</label>
                <input type="email" name="personal-email" id='personal-email' title="Personal Email">

                <label for='birthdate' id="bday-label">Birthdate:</label>
                <input type="date" name="birthdate" id='birthdate' title="Birthdate">

                <label for='gender-list' id="gender-label">Gender:</label>
                <select id="gender-list">
                    <option>--Choose Gender--</option>
                    <optgroup>
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                        <option value="Non-Binary">Non-Binary</option>
                    </optgroup>
                </select>

                <label for='grade-list' id="grade-label">Grade:</label>
                <select id="grade-list">
                    <option>--Choose Grade--</option>
                    <optgroup label="Grades">
                        <option value="K">Kindergarten</option>
                        <option value="1st">1st</option>
                        <option value="2nd">2nd</option>
                        <option value="3rd">3rd</option>
                        <option value="4th">4th</option>
                        <option value="5th">5th</option>
                        <option value="6th">6th</option>
                        <option value="7th">7th</option>
                        <option value="8th">8th</option>
                    </optgroup>
                </select>


                <label for='ethnicity' id="ethinicity-label">Ethnicity:</label>
                <select id="ethnicity-list">
                    <option>--Choose Ethnicity--</option>
                    <optgroup label="Ethnicity">
                        <option value="Hispanic/Latino">Hispanic/Latino</option>
                        <option value="Native American">Native American</option>
                        <option value="African American">African American</option>
                        <option value="Pacific Islander">Pacific Islander</option>
                        <option value="Asian">Asian</option>
                        <option value="Caucasian">Caucasian</option>
                        <option value="Middle Eastern/Arabic">Middle Eastern/Arabic</option>
                        <option value="Multi-Racial/Multi-Ethnic">Multi-Racial/Multi-Ethnic</option>
                        <option value="Filipino">Filipino</option>
                        <option value="Other">Other</option>
                    </optgroup>
                </select>


                <label for='reduced-lunch-list' id="reduced-lunch-label">Reduced Price Lunch:</label>
                <select id="reduced-lunch-list">
                    <option>--N/A--</option>
                    <optgroup label="Does your child receive free/reduced price lunch at school during the school year?">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>

                <label for='allergies' id='allergies-label'>Allergies/Medical Conditions:</label>
                <textarea id='allergies'></textarea>
                
                <label for='commute-permission' id="commute-permission-label">Permission to Commute Alone:</label>
                <select id="commute-permission">
                    <option>--None--</option>
                    <optgroup label="Does your child have permission to walk, bicycle, or take public transportation home on their own?">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>

                <label for="DCYF-id" id='DCYF-id-label'>DCYF Student ID:</label>
                <input type='text' maxlength="8" name="DCYF-student-id" id="DCYF-student-id">

                <h2 class='inForm'>Waivers</h2>
                <label for='liability'>Liability</label>
                <input type='checkbox' name='liability' id='liability'>

                <label for="data-release">Data Release</label>
                <input type='checkbox' name="data-release" id="data-release">

                <label for="media-release">Media Release</label>
                <input type='checkbox' name="media-release" id="media-release">

                <h2 class='inForm'>Parent/Guardian Information</h2>

                <label for='parent-first-name' id="parent-fName-label">Parent First Name:</label>
                <input type="text" name="parent-first-name" id='parent-first-name' title="Paretn First Name">

                <label for='parent-last-name' id="parent-lName-label">Parent Last Name:</label>
                <input type="text" name="parent-last-name" id='parent-last-name' title="Parent Last Name">

                <label for='parent-email' id="parentEmail-label">Parent Email Address:</label>
                <input type="email" name="parent-email" id='parent-email' title="Parent Email">                

                <label for='relationship' id="relationship-label">Relationship to Child:</label>
                <input type="text" name="relationship" id='relationship' title="Relationship to Child">
               
                <label for='parent-phone1' id="parent-phone1-label">Parent Phone 1:</label>
                <input type="text" name="parent-phone1" id='parent-phone1' title="Parent Phone 01">

                <label for='parent-phone2' id="parent-phone2-label">Parent Phone 2:</label>
                <input type="text" name="parent-phone2" id='parent-phone2' title="Parent Phone 02">

                <label for='parent-phone3' id="parent-phone3-label">Parent Phone 3:</label>
                <input type="text" name="parent-phone3" id='parent-phone3' title="Parent Phone 03">

                <h3>Mailing Address:</h3>
                <label for='street' id="street-label">Mailing Street:</label>
                <input type="text" name="street" id='street' title="Mailing Street">

                <label for='city' id="city-label">Mailing City:</label>
                <input type="text" name="city" id='city' title="Mailing City">

                <label for='state' id="state-label">Mailing State/Province:</label>
                <input type="text" name="state" id='state' title="Mailing State">             

                <label for='zip-code' id="zip-code-label">Mailing Zip/Postal Code:</label>
                <input type="text" name="zip-code" id='zip-code' title="Mailing Zip/Postal Code">

                <label for='country' id="country-label">Mailing Country:</label>
                <input type="text" name='country' id='country' title="Mailing Country">


                <label for='fluency' id="fluency-label">Parent English Fluency:</label>
                <select id='fluency'>
                    <option>--None--</option>
                    <optgroup label="English Fluency">
                        <option value="Yes">Yes</option>
                        <option calue='Some'>Some</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>

                <label for='home-lang' id="home-lang-label">Parent Home Language:</label>
                <select id="home-lang">
                    <option>--Choose Language--</option>
                    <optgroup label="Languages">
                        <option value="English">English</option>
                        <option value="Spanish">Spanish</option>
                        <option value="Chinese">Chinese (incl. Cantonese, Mandarin, other Chinese languages)</option>
                        <option value="Arabic">Arabic</option>
                        <option value="Bengali">Bengali</option>
                        <option value="French and French Creole">French and French Creole</option>
                        <option value="German">German</option>
                        <option value="Greek">Greek</option>
                        <option value="Gujrati">Gujrati</option>
                        <option value="Hebrew">Hebrew</option>
                        <option value="hindi">Hindi</option>
                        <option value="Hmong">Hmong</option>
                        <option value="Italian">Italian</option>
                        <option value="Japanese">Japanese</option>
                        <option value="Korean">Korean</option>
                        <option value="Punjabi">Punjabi</option>
                        <option value="Persian">Persian</option>
                        <option value="Polish">Polish</option>
                        <option value="Portuguese">Portuguese</option>
                        <option value="Russian">Russian</option>
                        <option value="Tagalog">Tagalog</option>
                        <option value="Telugu">Telugu</option>
                        <option value="Urdu">Urdu</option>
                        <option value="Vietnamese">Vietnamese</option>
                        <option value="Other">Other</option>
                    </optgroup>
                </select>

                <label for='other-lang' id='other-lang-label'>Specify Other Language:</label>
                <input type="text" name='other-lang' id='other-lang' title="Parent Other Language">

                <label for='volunteer' id='volunteer-label'>Volunteer for this program? (Parent):</label>
                <select id="volunteer">
                    <option>--None--</option>
                    <optgroup label="Are you interested in being a volunteer for this program?">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>

                <h2>Emergency Contact (Other than Parent/Guardian)</h2>

                <label for='ec-name' id="ec-name-label">Emergency Contact Name:</label>
                <input type="text" name="ec-name" id='ec-name' title="Emergency Contact Name">

                <label for='ec-relationship' id="ec-relationship-label">Emergency Contact Relationship to Child:</label>
                <input type="text" name="ec-relationship" id='ec-relationship' title="Emergency Contact Relationship to Child">
               
                <label for='ec-phone1' id="ec-phone1-label">Emergency Contact Phone 1:</label>
                <input type="text" name="ec-phone1" id='ec-phone1' title="ec Phone 01">

                <label for='ec-phone2' id="ec-phone2-label">Emergency Contact Phone 2:</label>
                <input type="text" name="ec-phone2" id='ec-phone2' title="ec Phone 02">

                <label for='ec-phone3' id="ec-phone3-label">Emergency Contact Phone 3:</label>
                <input type="text" name="ec-phone3" id='ec-phone3' title="ec Phone 03">

                <label for='ec-permission' id='ec-permission-label'>Emerg. Cont. Permission to Pick up Child</label>
                <select id="ec-permission">
                    <option>--None--</option>
                    <optgroup label="Does this person have permission to pick up your child?">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>


                <h2>Second Emergency Contact</h2>
               
                <label for='ec2-name' id="ec2-name-label">Emergency Contact Name:</label>
                <input type="text" name="ec2-name" id='ec2-name' title="Emergency Contact Name">

                <label for='ec2-relationship' id="ec2-relationship-label">Sec. Emergency Contact Relationship to Child:</label>
                <input type="text" name="ec2-relationship" id='ec2-relationship' title="Second Emergency Contact Relationship to Child">
               
                <label for='ec2-phone1' id="ec2-phone1-label">Second Emergency Contact Phone 1:</label>
                <input type="text" name="ec2-phone1" id='ec2-phone1' title="ec2 Phone 01">

                <label for='ec2-phone2' id="ec2-phone2-label">Second Emergency Contact Phone 2:</label>
                <input type="text" name="ec2-phone2" id='ec2-phone2' title="ec2 Phone 02">

                <label for='ec2-phone3' id="ec2-phone3-label">Sencond Emergency Contact Phone 3:</label>
                <input type="text" name="ec2-phone3" id='ec2-phone3' title="ec2 Phone 03">

                <label for='ec2-permission' id='ec2-permission-label'>Sec. Emerg. Cont. Permission to Pick up Child</label>
                <select id="ec2-permission">
                    <option>--None--</option>
                    <optgroup label="Does this person have permission to pick up your child?">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </optgroup>
                </select>


            </form>

            <section id='btns'>
                <button id='submit-btn'>Submit</button>
            </section>
            
            <script>

                /* retireve the form data */
                function formData(){
                    let data = {};
                    let form = document.getElementById('student-registration');
                    for(let el of form.elements){
                        
                        console.log(el.value);
                        
                        data[el.id] = el.value;
                    }
                    return data;
                }

                // /* print the HTTP response */
                // function printJSON(json){
                //     let listEl = document.getElementById('keys');
                //     listEl.innerHTML = "";
                //     for(let entry of Object.entries(json)){
                //         let item = document.createElement('li');
                //         item.innerText = entry[0] + ': ';
                //         if(entry[1] == '' || Object.entries(entry[1]).length === 0){
                //              item.innerText += '\"\"';
                //         }else if(typeof(entry[1]) === 'object'){
                //             printJSONinJSON(item, entry[1]);
                //          }else{
                //             item.innerText += entry[1];
                //         }
                //         console.log(listEl);
                //         listEl.appendChild(item);
                        
                //     }

                // }

                /* POST using XHR */
                function postXHR(){
                    let order = formData();
                    xhr = new XMLHttpRequest();
                    xhr.open('POST', 'https://httpbin.org/post', true);
                    xhr.setRequestHeader('Content-Type', 'application/json');
                    // xhr.onload = function(){
                    //     printJSON(JSON.parse(xhr.responseText));
                    // };
                    xhr.send(JSON.stringify(order));
                    
                    
                }
                document.getElementById('submit-btn').addEventListener('click', function(){
                    postXHR();
                    document.querySelector('main').innerHTML = "";
                    let h1 = document.querySelector('h1');
                    h1.innerText = "Registration Submitted!";
                    h1.style.top = '50%';
                    h1.style.fontSize = '5em'
                });

            </script>


        </main>


        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="/__/firebase/7.17.2/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="/__/firebase/7.17.2/firebase-analytics.js"></script>

        <!-- Initialize Firebase -->
        <script src="/__/firebase/init.js"></script>
    
    </body>

</html>
